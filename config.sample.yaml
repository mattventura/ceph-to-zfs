clusters:

  myCluster:
    authName: 'client.admin'
    confFile: '/etc/ceph/ceph.conf'
    clusterName: 'ceph'

jobs:
  - # Only alphanumeric, hyphen, underscore
  - id: Backup_VMs
    # Human readable label. Optional, uses the ID if not specified.
    label: 'Backup VM Images'
    # Refers to a key in the "clusters" top-level object
    cluster: 'myCluster'
    # Ceph pool name
    cephPoolName: 'vm-images'
    # tank/backups must already exist. 'volmode' on this dataset must be 'dev' (recommended - avoids dev nodes for
    # zvol partitions) or 'full'. 'full' is typically the default.
    zfsDestination: 'tank/backups/vm-images'
    # Regex applied to image names. Both of these are optional.
    # If both are specified, image names must match `imageIncludeRegex` and not match `imageExcludeRegex`
    # If only `imageIncludeRegex` is specified, then only matching images will be included.
    # If only `imageExcludeRegex` is specified, then all images except those matching the pattern will be included.
    imageExcludeRegex: 'vm-disk-swap.*'
    imageIncludeRegex: 'vm-disk-.*'
    # How many images to process concurrently. Defaults to 2.
    maxConcurrency: 5